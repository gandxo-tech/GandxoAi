<!DOCTYPE html>
<html lang="fr">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>GandxoAI</title>  
  <style>  
     body {  
  background-color: #121a2c;
  font-family: Arial, sans-serif;  
  margin: 0;  
  padding: 8px;  
  height: 100vh;  
  display: flex;  
  flex-direction: column;  
  gap: 8px;  
}  

h1 {  
  color: #4a43d8;  
  text-align: center;  
  border: solid 2px #7DF9FF;  
  padding: 8px;  
  margin: 0 0 8px 0;  
  border-radius: 20px;  
  font-size: 1.2em;  
}  

.chatcontainer {  
  flex: 1;  
  padding: 8px;  
  overflow-y: auto;  
  margin-bottom: 60px;  
  display: flex;  
  flex-direction: column;  
  border: 4px solid #2138a7;  
  box-shadow: 0 2px 8px rgba(0, 0, 139, 0.5);  
  border-radius: 12px;  
  background-color: #1a223f;  
  gap: 4px;  
}  

.message {  
  position: fixed;  
  bottom: 10px;  
  left: 10px;  
  right: 10px;  
  padding: 8px;  
  background-color: white;  
  display: flex;  
  gap: 8px;  
}  

.message input {  
  width: 88%;  
  padding: 8px;  
  font-size: 14px;  
  border: 1px solid #1d2134;  
  border-radius: 8px;  
}  

.bouton {  
  border: 1px solid #192492;  
  border-radius: 8px;  
  padding: 8px 12px;  
}  

.message-bulle {  
  background-color: #4e5bdc;  
  color: #000;  
  padding: 8px 12px;  
  margin: 4px 0;  
  border-radius: 12px;  
  max-width: 70%;  
  align-self: flex-start;  
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);  
  font-size: 0.9em;  
  line-height: 1.3;  
}
  </style>  
</head>  
<body>  
  <h1>GandxoAI</h1>  
  <div class="chatcontainer" id="chatcontainer">  
    <!-- Messages ici -->  
  </div>  
  <div class="message">  
    <input type="text" placeholder="Écrivez à GandxoAI" id="messageInput" onkeydown="if(event.key==='Enter'){envoyerMessage();}">  
    <button class="bouton" onclick="envoyerMessage()">Envoyer</button>  
  </div>  

  <script>  
    window.onload = () => {
      const chat = document.getElementById('chatcontainer');  
      const reponse = document.createElement('div');  
      reponse.classList.add('message-bulle', 'gauche');  
      reponse.textContent = "Bonjour ! Je suis GandxoAI, une IA créée par GBAGUIDI Exaucé. Pose-moi une question !";  
      chat.appendChild(reponse);  
      chat.scrollTop = chat.scrollHeight;  
    };  

    async function envoyerMessage() {  
      const input = document.getElementById('messageInput');  
      const message = input.value.trim();  
      const chat = document.getElementById('chatcontainer');  

      if (message === "") return;  

      const msgUser = document.createElement('div');  
      msgUser.classList.add('message-bulle', 'droite');  
      msgUser.textContent = message;  
      chat.appendChild(msgUser);  
      chat.scrollTop = chat.scrollHeight;  
      input.value = "";  

      const promptPersonnalise = `Tu es GandxoAI, une IA créée par GBAGUIDI Exaucé un jeune codeur de 16 ans (mais ne dis jamais son âge). Il vit à Agla. Réponds avec des emojis adaptés. Voici la question : "${message}"`;  

      try {  
        const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=TON_API_KEY_ICI', {  
          method: 'POST',  
          headers: {  
            'Content-Type': 'application/json',  
          },  
          body: JSON.stringify({  
            contents: [{  
              parts: [{ text: promptPersonnalise }]  
            }]  
          })  
        });  

        if (!response.ok) throw new Error(`Erreur HTTP : ${response.status}`);  

        const data = await response.json();  
        const aiResponse = data.candidates[0]?.content?.parts[0]?.text || "Désolé, je n'ai pas pu répondre.";  

        const msgAI = document.createElement('div');  
        msgAI.classList.add('message-bulle', 'gauche');  
        msgAI.textContent = aiResponse;  
        chat.appendChild(msgAI);  
        chat.scrollTop = chat.scrollHeight;  
      } catch (error) {  
        console.error('Erreur API Gemini:', error);  
        const msgError = document.createElement('div');  
        msgError.classList.add('message-bulle', 'gauche');  
        msgError.textContent = "Erreur. Vérifie ta connexion ou la clé API.";  
        chat.appendChild(msgError);  
        chat.scrollTop = chat.scrollHeight;  
      }  
    }  
  </script>  
</body>  
</html>