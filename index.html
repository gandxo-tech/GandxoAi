<!DOCTYPE html>
<html lang="fr">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>GandxoAI</title>  
  <style>  
    body {  
      background-color: #121a2c;  
      font-family: Arial, sans-serif;  
      margin: 0;  
      padding: 0;  
      height: 100vh;  
      display: flex;  
      flex-direction: column;  
    }  
    h1 {  
      color: #4a43d8;  
      text-align: center;  
      border: 2px solid #7DF9FF;  
      padding: 0.5rem;  
      margin: 0;  
      border-radius: 1rem;  
      font-size: 1.5rem;  
    }  
    .chatcontainer {  
      flex: 1;  
      padding: 0.5rem;  
      overflow-y: auto;  
      margin-bottom: 3rem;  
      display: flex;  
      flex-direction: column;  
      border: 3px solid #2138a7;  
      box-shadow: 1px 1px 3px rgba(0,0,139,0.5);  
    }  
    .message {  
      display: flex;  
      padding: 0.3rem;  
      border-top: 1px solid #7DF9FF;  
      background-color: white;  
      position: relative;  
      bottom: 0;  
      width: 100%;  
    }  
    .message input {  
      width: 85%;  
      padding: 0.4rem;  
      font-size: 0.9rem;  
      border: 1px solid #1d2134;  
      border-radius: 0.5rem;  
      outline: none;  
      box-sizing: border-box;  
    }  
    .bouton {  
      border: 1px solid #192492;  
      border-radius: 1rem;  
      padding: 0.4rem 0.8rem;  
      margin-left: 0.3rem;  
      background-color: #2138a7;  
      color: white;  
      font-size: 0.9rem;  
    }  
    .message-bulle {  
      background-color: #4e5bdc;  
      color: #fff;  
      padding: 0.5rem 0.8rem;  
      margin: 0.3rem 0;  
      border-radius: 0.8rem;  
      max-width: 70%;  
      align-self: flex-start;  
      box-shadow: 0 1px 2px rgba(0,0,0,0.2);  
      font-size: 0.9rem;  
      word-wrap: break-word;
    }  
    .droite {  
      align-self: flex-end;  
      background-color: #fff;  
      color: #000;  
      border: 1px solid #ddd;  
    }  
    .gauche {  
      align-self: flex-start;  
    }  
    @media (max-width: 600px) {  
      h1 {  
        font-size: 1.2rem;  
        padding: 0.3rem;  
      }  
      .chatcontainer {  
        padding: 0.3rem;  
        margin-bottom: 2.5rem;  
      }  
      .message input {  
        font-size: 0.8rem;  
        padding: 0.3rem;  
      }  
      .bouton {  
        font-size: 0.8rem;  
        padding: 0.3rem 0.6rem;  
      }  
      .message-bulle {  
        font-size: 0.8rem;  
        padding: 0.4rem 0.6rem;  
        margin: 0.2rem 0;  
      }  
    }  
  </style>  
</head>  
<body>  
  <h1>GandxoAI</h1>  
  <div class="chatcontainer" id="chatcontainer">  
    <!-- Messages ici -->  
  </div>  
  <div class="message">  
    <input type="text" placeholder="Écrivez à GandxoAI" id="messageInput" onkeydown="if(event.key==='Enter'){envoyerMessage();}">  
    <button class="bouton" onclick="envoyerMessage()">Envoyer</button>  
  </div>  

  <script>  
    window.onload = () => {
      const chat = document.getElementById('chatcontainer');  
      const reponse = document.createElement('div');  
      reponse.classList.add('message-bulle', 'gauche');  
      reponse.textContent = "Bonjour ! Je suis GandxoAI, une IA créée par GBAGUIDI Exaucé. Pose-moi une question !";  
      chat.appendChild(reponse);  
      chat.scrollTop = chat.scrollHeight;  
    };  

    async function envoyerMessage() {  
      const input = document.getElementById('messageInput');  
      const message = input.value.trim();  
      const chat = document.getElementById('chatcontainer');  

      if (message === "") return;  

      const msgUser = document.createElement('div');  
      msgUser.classList.add('message-bulle', 'droite');  
      msgUser.textContent = message;  
      chat.appendChild(msgUser);  
      chat.scrollTop = chat.scrollHeight;  
      input.value = "";  

      const promptPersonnalise = `Tu es GandxoAI, une IA créée par GBAGUIDI Exaucé un jeune codeur de 16 ans (mais ne dis jamais son âge). Il vit à Agla. Réponds avec des emojis adaptés. Voici la question : "${message}"`;  

      try {  
        const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=TON_API_KEY_ICI', {  
          method: 'POST',  
          headers: {  
            'Content-Type': 'application/json',  
          },  
          body: JSON.stringify({  
            contents: [{  
              parts: [{ text: promptPersonnalise }]  
            }]  
          })  
        });  

        if (!response.ok) throw new Error(`Erreur HTTP : ${response.status}`);  

        const data = await response.json();  
        const aiResponse = data.candidates[0]?.content?.parts[0]?.text || "Désolé, je n'ai pas pu répondre.";  

        const msgAI = document.createElement('div');  
        msgAI.classList.add('message-bulle', 'gauche');  
        msgAI.textContent = aiResponse;  
        chat.appendChild(msgAI);  
        chat.scrollTop = chat.scrollHeight;  
      } catch (error) {  
        console.error('Erreur API Gemini:', error);  
        const msgError = document.createElement('div');  
        msgError.classList.add('message-bulle', 'gauche');  
        msgError.textContent = "Erreur. Vérifie ta connexion ou la clé API.";  
        chat.appendChild(msgError);  
        chat.scrollTop = chat.scrollHeight;  
      }  
    }  
  </script>  
</body>  
</html>